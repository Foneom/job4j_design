create schema job4j;

use job4j;

create table user (
    -> userId int not null auto_increment,
    -> userName varchar(30),
    -> primary key(userId));

create table role (
    -> id int not null auto_increment,
    -> name varchar(30),
    -> userId int references user(userId),
    -> primary key(id));

 create table rules (
    -> id int not null auto_increment,
    -> name varchar(30),
    -> primary key(id));

create table roleRules (
    -> roleId int references role(id),
    -> ruleId int references rules(id),
    -> primary key(roleId, ruleId));

 create table item (
    -> id int not null auto_increment,
    -> name varchar(30),
    -> userId int references user(userId),
    -> primary key(id));

 create table comments (
    -> id int not null auto_increment,
    -> name varchar(30),
    -> itemId int references item(id),
    -> primary key(id));

create table attachs (
    -> id int not null auto_increment,
    -> name varchar(30),
    -> itemId int references item(id),
    -> primary key(id));

create table category (
    -> id int not null auto_increment,
    -> name varchar(30),
    -> itemId int references item(id),
    -> primary key(id));

create table state (
    -> id int not null auto_increment,
    -> name varchar(30),
    -> itemId int references item(id),
    -> primary key(id));

 insert into user(userId, userName)
    -> values(0, 'Alex');

 insert into role(id, name, userId)
    -> values(0, 'editor', 0);

  insert into rule(id, name)
    -> values(0, 'data editing');

   insert into roleRule(roleId, ruleId)
    -> values(0, 0);

    insert into item(id, name, userId)
    -> values(0, 'x001', 0);

 insert into comments(id, name, itemId)
    -> values(0, 'installation of the program', 0);

insert into attachs(id, name, itemId)
    -> values(0, 'msOffice.exe', 0);

insert into category(id, name, itemId)
    -> values(0, 'it', 0)

insert into state(id, name, itemId)
    -> values(0, 'done', 0)